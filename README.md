# PT站点自动操作

本项目主要是为了实现一些PT站点的自动化建立的，由于工作太忙，更新非常佛系，玩PT也比较佛系，懒得刷流，够用就行，目前规划有下面几项：

1. 朱雀这种玩游戏的（只实现自动放技能，后续实现一键升级）
2. 好大、海胆这种无法自动签到的
3. 大青虫、库非这种群聊区领福利的
4. 类似馒头这种需要时不时登录的
5. 52PT需要攒题库
6. 红叶就搞不了了
7. 有CF盾的应该也搞不了



### 1. 朱雀自动释放技能

目前仅有自动释放技能的功能，需要搭配青龙面板。

众所周知，朱雀技能使用类似青龙这种任务面板实现不了自动释放技能，因为周期是24小时，如果是23.5小时那就刚刚好了，所以写了下面脚本，通过获取下次技能释放时间来动态设置青龙面板脚本执行时间。

1. 使用方式，将 zhuque 目录下三个文件放入青龙面板 -> 脚本管理 -> 可以自己新建个目录放这三个文件。
2. 青龙面板系统设置 -> 应用设置 -> 新建应用，记录下 ClientId，ClientSecret，青龙面板地址。
3. 新建或修改定时任务，命令/脚本 填写上面文件种的 zhuque.py 文件路径，查看 F12 记录下任务的 id, name, command, label。
4. 登录朱雀记录下朱雀的 Cookie 和 csrf_token 的值。
5. 通过上述获取的参数，修改 config.ini 配置文件，里面有注释。
6. 点击运行青龙面板的任务即可，后续理论上会到期的只有朱雀的 cookie。
7. 目前已知问题，如果脚本执行失败（网络原因），导致下次执行时间没有更新，由于过了当时的执行时间，会自动延至下一年，导致任务失效，有几种处理方案，出问题概率特别小，所以还没搞
   - 将下次执行时间顺延至第二天的那个时候。
   - 另起定时任务每10分钟执行，当技能任务时间延至下一年后，更新下次执行时间。
   - 做邮件推送，手工维护。



### 2. 站点签到功能

我有哪些站都写配置文件里面了，没有的站可以自己配置，如果有不适配的也可以联系我，复制对应的日志信息，我给适配，理论上配置好了配置文件，应该能适配所有网站吧。

1. 支持所有GET请求的网站（有CF盾的有可能失败）

2. 支持好大

3. 支持海胆

4. 理论上配置好了配置文件，支持所有网站

5. 已知问题

   - 本机开代理程序报错,，如下代码可解，还未整合

     ```py
     proxy = {'http': '127.0.0.1:10809', 'https': '127.0.0.1:10809'}
     r = requests.post(u, json=data, headers=headers, proxies=proxy)
     ```

   - 有CF盾的网站无法签到

   - 感觉配置文件对新手并不是很友好，虽然我已经尽量加注释，在程序里面做了处理



### 3. 群聊区福利

目前有群聊区福利的我只有库非、大青虫。

